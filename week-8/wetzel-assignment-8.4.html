<!--
============================================
; Title:  Assignment 8.4
; Author: Loren Wetzel
; Date:   22 July 2019
; Modified By:
; Description: modify dom with jquery
;===========================================
-->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- you will need to the href to point to your root directories css file -->
  <link rel="stylesheet" href="../site.css">

  <style type="text/css">
    #employee tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>

<body>
  <div id="emps"></div>

  <script type="text/javascript">
    //constructor object
    function Employee(id, firstName, lastName, title) {

      this.id = id;
      this.firstName = firstName;
      this.lastName = lastName;
      this.title = title;
    }

    //array of objects made from constructor
    var employees = [
      new Employee("1", "Thomas", "Edison", "Software Engineer"),
      new Employee("2", "Benjamin", "Franklin", "Programmer"),
      new Employee("3", "Nikola", "Tesla", "Project Manager"),
      new Employee("4", "Charles", "Babbage", "Product Manager"),
      new Employee("5", "Alexander", "Bell", "Business Analyst")
    ];

    // getEmployee(id) function
    function getEmployee(id) {
      for (i = 0; i < employees.length; i++) {
        if (employees[i].id === id) {
          alert(employees[i].id + ' ' + employees[i].firstName + ' ' + employees[i].lastName + ' ' + employees[i].title);
        };
      }
    };

    // output string variable
    var output = "<h1>Employee Listing</h1>";
    output += "<table id='employee'>";
    output += "<thead><tr><th>Id</th><th>First Name</th><th>Last Name</th><th>Title</th></tr></thead>";
    output += "<tbody>";
    for (let i = 0; i < employees.length; i++) {
      output += "<tr><td>" + employees[i].id + "</td><td>" + employees[i].firstName + "</td><td>" + employees[i].lastName + "</td><td>" + employees[i].title + "</td></tr>"
    }

    // innerHTML call
    document.getElementById('emps').innerHTML = output;

    // jQuery onClick event
    // Don't remove this, just add your code to the body of the event (curly braces)
    $(function () {
      $("tr").click(function () {
        let id = $(this).find('td:first-child').html();
        getEmployee(id);
      })
    });
  </script>
</body>

</html>
